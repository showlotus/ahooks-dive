---
title: Components
description: Some builtin components
---

# [useThrottle](https://ahooks.js.org/zh-CN/hooks/use-throttle#usethrottle)

## ğŸ“– ç”¨æ³•

ç”¨æ¥å¤„ç†èŠ‚æµå€¼çš„ Hookã€‚

<ViewCode src="./use-throttle/demo.tsx" />

## ğŸ“„ [æºç ](https://github.com/alibaba/hooks/blob/master/packages/hooks/src/useThrottle/index.ts)

{/* prettier-ignore */}
```ts title="useThrottle.ts"
import { useEffect, useState } from 'react';
import useThrottleFn from '../useThrottleFn';
import type { ThrottleOptions } from './throttleOptions';

function useThrottle<T>(value: T, options?: ThrottleOptions) {
  const [throttled, setThrottled] = useState(value);

  const { run } = useThrottleFn(() => {
    setThrottled(value);
  }, options);

  useEffect(() => {
    run();
  }, [value]);

  return throttled;
}

export default useThrottle;
```

## ğŸ” è§£è¯»

::: tip
å…³äº `useThrottleFn`ï¼Œå¯ä»¥æŸ¥çœ‹å¯¹åº”æ–‡æ¡£ï¼š[useThrottleFn](../../effect/use-throttle-fn/)ã€‚
:::

{/* prettier-ignore */}
```ts
function useThrottle<T>(value: T, options?: ThrottleOptions) {
  // 1. é¦–å…ˆï¼Œä½¿ç”¨ useState å®šä¹‰äº†ä¸€ä¸ª throttled çŠ¶æ€ï¼Œç”¨äºå­˜å‚¨èŠ‚æµåçš„å€¼ã€‚
  const [throttled, setThrottled] = useState(value);

  // 2. ç„¶åï¼Œä½¿ç”¨ useThrottleFn æ¥å®šä¹‰ä¸€ä¸ªèŠ‚æµå‡½æ•°ã€‚
  const { run } = useThrottleFn(() => {
    setThrottled(value);
  }, options);

  // 3. æ¥ç€ï¼Œä½¿ç”¨ useEffect æ¥ç›‘å¬ value çš„å˜åŒ–ï¼Œå¹¶è°ƒç”¨ run å‡½æ•°æ‰§è¡ŒèŠ‚æµå‡½æ•°ã€‚
  useEffect(() => {
    run();
  }, [value]);

  // 4. æœ€åï¼Œè¿”å›èŠ‚æµåçš„å€¼ã€‚
  return throttled;
}
```
