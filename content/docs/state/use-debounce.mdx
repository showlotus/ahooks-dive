---
title: Components
description: Some builtin components
---

# [useDebounce](https://ahooks.js.org/zh-CN/hooks/use-raf-state#userafstate)

## ğŸ“– ç”¨æ³•

ç”¨æ¥å¤„ç†é˜²æŠ–å€¼çš„ Hookã€‚

<ViewCode src="./demo.tsx" />

## ğŸ“„ [æºç ](https://github.com/alibaba/hooks/blob/master/packages/hooks/src/useDebounce/index.ts)

::: code-group

{/* prettier-ignore */}
```ts [useDebounce.ts]
import { useEffect, useState } from 'react';
import useDebounceFn from '../useDebounceFn';
import type { DebounceOptions } from './debounceOptions';

function useDebounce<T>(value: T, options?: DebounceOptions) {
  const [debounced, setDebounced] = useState(value);

  const { run } = useDebounceFn(() => {
    setDebounced(value);
  }, options);

  useEffect(() => {
    run();
  }, [value]);

  return debounced;
}

export default useDebounce;
```

:::

## ğŸ” è§£è¯»

::: tip
å…³äº `useDebounceFn`ï¼Œå¯ä»¥æŸ¥çœ‹å¯¹åº”æ–‡æ¡£ï¼š[useDebounceFn](../../effect/use-debounce-fn/)ã€‚
:::

{/* prettier-ignore */}
```ts
function useDebounce<T>(value: T, options?: DebounceOptions) {
  // 1. é¦–å…ˆï¼Œä½¿ç”¨ useState å®šä¹‰äº†ä¸€ä¸ª debounced çŠ¶æ€ï¼Œç”¨äºå­˜å‚¨é˜²æŠ–åçš„å€¼ã€‚
  const [debounced, setDebounced] = useState(value);

  // 2. ç„¶åï¼Œä½¿ç”¨ useDebounceFn æ¥å®šä¹‰ä¸€ä¸ªé˜²æŠ–å‡½æ•°ã€‚
  const { run } = useDebounceFn(() => {
    setDebounced(value);
  }, options);

  // 3. æ¥ç€ï¼Œä½¿ç”¨ useEffect æ¥ç›‘å¬ value çš„å˜åŒ–ï¼Œå¹¶è°ƒç”¨ run å‡½æ•°æ‰§è¡Œé˜²æŠ–å‡½æ•°ã€‚
  useEffect(() => {
    run();
  }, [value]);

  // 4. æœ€åï¼Œè¿”å›é˜²æŠ–åçš„å€¼ã€‚
  return debounced;
}
```
