(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45036,e=>{"use strict";var t=e.i(824627),n=e.i(279537);e.s(["default",0,function(e,r){void 0===e&&(e=!1);var i=(0,t.__read)((0,n.useState)(e),2),u=i[0],o=i[1];return[u,(0,n.useMemo)(function(){var t=void 0===r?!e:r;return{toggle:function(){return o(function(n){return n===e?t:e})},set:function(e){return o(e)},setLeft:function(){return o(e)},setRight:function(){return o(t)}}},[])]}])},528611,e=>{"use strict";var t=e.i(660171),n=e.i(45036),n=n;function r(){let[e,{toggle:r,setLeft:i,setRight:u}]=(0,n.default)();return(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["Effects：",`${e}`]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("button",{type:"button",onClick:r,children:"Toggle"}),(0,t.jsx)("button",{type:"button",onClick:i,style:{margin:"0 8px"},children:"Toggle False"}),(0,t.jsx)("button",{type:"button",onClick:u,children:"Toggle True"})]})]})}e.s(["default",()=>r],528611)},791606,(e,t,n)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},472668,(e,t,n)=>{t.exports=e.g&&e.g.Object===Object&&e.g},818408,(e,t,n)=>{var r=e.r(472668),i="object"==typeof self&&self&&self.Object===Object&&self;t.exports=r||i||Function("return this")()},702272,(e,t,n)=>{var r=e.r(818408);t.exports=function(){return r.Date.now()}},893912,(e,t,n)=>{var r=/\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},386716,(e,t,n)=>{var r=e.r(893912),i=/^\s+/;t.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},407667,(e,t,n)=>{t.exports=e.r(818408).Symbol},652930,(e,t,n)=>{var r=e.r(407667),i=Object.prototype,u=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;t.exports=function(e){var t=u.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[a]=n:delete e[a]),i}},21955,(e,t,n)=>{var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},423748,(e,t,n)=>{var r=e.r(407667),i=e.r(652930),u=e.r(21955),o=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):u(e)}},819674,(e,t,n)=>{t.exports=function(e){return null!=e&&"object"==typeof e}},248664,(e,t,n)=>{var r=e.r(423748),i=e.r(819674);t.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},394370,(e,t,n)=>{var r=e.r(386716),i=e.r(791606),u=e.r(248664),o=0/0,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(u(e))return o;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?o:+e}},987325,(e,t,n)=>{var r=e.r(791606),i=e.r(702272),u=e.r(394370),o=Math.max,a=Math.min;t.exports=function(e,t,n){var s,c,l,f,d,p,v=0,h=!1,m=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function g(t){var n=s,r=c;return s=c=void 0,v=t,f=e.apply(r,n)}function x(e){var n=e-p,r=e-v;return void 0===p||n>=t||n<0||m&&r>=l}function j(){var e,n,r,u=i();if(x(u))return b(u);d=setTimeout(j,(e=u-p,n=u-v,r=t-e,m?a(r,l-n):r))}function b(e){return(d=void 0,y&&s)?g(e):(s=c=void 0,f)}function _(){var e,n=i(),r=x(n);if(s=arguments,c=this,p=n,r){if(void 0===d)return v=e=p,d=setTimeout(j,t),h?g(e):f;if(m)return clearTimeout(d),d=setTimeout(j,t),g(p)}return void 0===d&&(d=setTimeout(j,t)),f}return t=u(t)||0,r(n)&&(h=!!n.leading,l=(m="maxWait"in n)?o(u(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),_.cancel=function(){void 0!==d&&clearTimeout(d),v=0,s=p=c=d=void 0},_.flush=function(){return void 0===d?f:b(i())},_}},360174,(e,t,n)=>{var r=e.r(987325),i=e.r(791606);t.exports=function(e,t,n){var u=!0,o=!0;if("function"!=typeof e)throw TypeError("Expected a function");return i(n)&&(u="leading"in n?!!n.leading:u,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:u,maxWait:t,trailing:o})}},746261,e=>{"use strict";var t=e.i(279537);e.s(["default",0,function(e){var n=(0,t.useRef)(e);return n.current=e,n}])},528199,107615,e=>{"use strict";var t=function(e){return"function"==typeof e};e.s(["isFunction",()=>t],528199),e.i(840561),e.s(["default",0,!1],107615)},999157,e=>{"use strict";var t=e.i(279537),n=e.i(746261),r=e.i(528199),i=e.i(107615);e.s(["default",0,function(e){i.default&&!(0,r.isFunction)(e)&&console.error("useUnmount expected parameter is a function, got ".concat(typeof e));var u=(0,n.default)(e);(0,t.useEffect)(function(){return function(){u.current()}},[])}])},815763,e=>{"use strict";var t=e.i(824627),n=e.i(360174),r=e.i(279537),i=e.i(746261),u=e.i(999157),o=e.i(528199),a=e.i(107615);e.s(["default",0,function(e,s){a.default&&!(0,o.isFunction)(e)&&console.error("useThrottleFn expected parameter is a function, got ".concat(typeof e));var c,l=(0,i.default)(e),f=null!=(c=null==s?void 0:s.wait)?c:1e3,d=(0,r.useMemo)(function(){return(0,n.default)(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.current.apply(l,(0,t.__spreadArray)([],(0,t.__read)(e),!1))},f,s)},[]);return(0,u.default)(function(){d.cancel()}),{run:d,cancel:d.cancel,flush:d.flush}}])},869482,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(824627),i=e.i(815763);let u=function(e,t){var u=(0,r.__read)((0,n.useState)(e),2),o=u[0],a=u[1],s=(0,i.default)(function(){a(e)},t).run;return(0,n.useEffect)(function(){s()},[e]),o};function o(){let[e,r]=(0,n.useState)(),i=u(e,{wait:500});return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{value:e,onChange:e=>r(e.target.value),placeholder:"Typed value",style:{width:280}}),(0,t.jsxs)("p",{style:{marginTop:16},children:["throttledValue: ",i]})]})}e.s(["default",()=>o],869482)},740096,e=>{"use strict";var t=e.i(279537),n=e.i(528199),r=e.i(107615);e.s(["default",0,function(e){r.default&&!(0,n.isFunction)(e)&&console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof e));var i=(0,t.useRef)(e);i.current=(0,t.useMemo)(function(){return e},[e]);var u=(0,t.useRef)(void 0);return u.current||(u.current=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.current.apply(this,e)}),u.current}])},305959,e=>{"use strict";var t=e.i(660171),n=e.i(824627),r=e.i(279537),i=e.i(740096);let u=function(e){var t=function(){return new Set(e)},u=(0,n.__read)((0,r.useState)(t),2),o=u[0],a=u[1],s=function(e){a(function(t){return e(new Set(t))})};return[o,{add:(0,i.default)(function(e){o.has(e)||s(function(t){return t.add(e),t})}),remove:(0,i.default)(function(e){o.has(e)&&s(function(t){return t.delete(e),t})}),reset:(0,i.default)(function(){return a(t())})}]};function o(){let[e,{add:n,remove:r,reset:i}]=u(["Hello"]);return(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{type:"button",onClick:()=>n(String(Date.now())),children:"Add Timestamp"}),(0,t.jsx)("button",{type:"button",onClick:()=>r("Hello"),disabled:!e.has("Hello"),style:{margin:"0 8px"},children:"Remove Hello"}),(0,t.jsx)("button",{type:"button",onClick:()=>i(),children:"Reset"}),(0,t.jsx)("div",{style:{marginTop:16},children:(0,t.jsx)("pre",{children:JSON.stringify(Array.from(e),null,2)})})]})}e.s(["default",()=>o],305959)},514477,e=>{"use strict";var t=e.i(660171),n=e.i(824627),r=e.i(279537),i=e.i(740096),u=e.i(528199);let o=function(e){var t=(0,n.__read)((0,r.useState)(e),2),o=t[0],a=t[1];return[o,(0,i.default)(function(e){a(function(t){var r=(0,u.isFunction)(e)?e(t):e;return r?(0,n.__assign)((0,n.__assign)({},t),r):t})})]};function a(){let[e,n]=o({hello:""});return(0,t.jsxs)("div",{children:[(0,t.jsx)("pre",{children:JSON.stringify(e,null,2)}),(0,t.jsxs)("p",{children:[(0,t.jsx)("button",{type:"button",onClick:()=>n({hello:"world"}),children:"set hello"}),(0,t.jsx)("button",{type:"button",onClick:()=>n({foo:"bar"}),style:{margin:"0 8px"},children:"set foo"})]})]})}e.s(["default",()=>a],514477)},562114,e=>{"use strict";var t=e.i(279537);e.s(["default",0,function(){var e=(0,t.useRef)(!1);return(0,t.useEffect)(function(){return e.current=!1,function(){e.current=!0}},[]),e}])},461519,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(824627),i=e.i(562114);let u=function(e){var t=(0,i.default)(),u=(0,r.__read)((0,n.useState)(e),2),o=u[0],a=u[1];return[o,(0,n.useCallback)(function(e){t.current||a(e)},[])]},o=function(){let[e,r]=u();return(0,n.useEffect)(()=>{setTimeout(()=>{r("data loaded from server")},5e3)},[]),(0,t.jsx)("div",{children:e||"Loading..."})};function a(){let[e,r]=(0,n.useState)(!0);return(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>r(!e),children:e?"Unmount":"Mount"}),e&&(0,t.jsx)(o,{})]})}e.s(["default",()=>a],461519)},391872,e=>{"use strict";var t=e.i(824627),n=e.i(279537),r=e.i(999157);e.s(["default",0,function(e){var i=(0,n.useRef)(0),u=(0,t.__read)((0,n.useState)(e),2),o=u[0],a=u[1],s=(0,n.useCallback)(function(e){cancelAnimationFrame(i.current),i.current=requestAnimationFrame(function(){a(e)})},[]);return(0,r.default)(function(){cancelAnimationFrame(i.current)}),[o,s]}])},122696,e=>{"use strict";var t=e.i(660171),n=e.i(391872),n=n,r=e.i(279537);let i=function({times:e=1}){let[n,i]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let t=()=>{for(let t=0;t<e;t++)i(e=>e+1)};return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[]),(0,t.jsxs)("div",{style:{color:"#F44336"},children:["[WithUseState] update state count: ",n," / ",e]})},u=function({times:e=1}){let[i,u]=(0,n.default)(0);return(0,r.useEffect)(()=>{let t=()=>{for(let t=0;t<e;t++)u(e=>e+1)};return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[]),(0,t.jsxs)("div",{style:{color:"#4CAF50"},children:["[WithUseRafState] update state count: ",i," / ",e]})};function o(){return(0,t.jsxs)("div",{children:["滚动页面，观察两个组件更新次数的差异",(0,t.jsx)(i,{times:1}),(0,t.jsx)(u,{times:1}),(0,t.jsx)("hr",{}),(0,t.jsx)(i,{times:10}),(0,t.jsx)(u,{times:10})]})}e.s(["default",()=>o],122696)},244215,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=function(e,t){return!Object.is(e,t)};let i=function(e,t){void 0===t&&(t=r);var i=(0,n.useRef)(void 0),u=(0,n.useRef)(void 0);return t(u.current,e)&&(i.current=u.current,u.current=e),i.current};function u(){let[e,r]=(0,n.useState)(0),u=i(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:["counter current value: ",e]}),(0,t.jsxs)("div",{style:{marginBottom:8},children:["counter previous value: ",u]}),(0,t.jsx)("button",{type:"button",onClick:()=>r(e=>e+1),children:"increase"}),(0,t.jsx)("button",{type:"button",style:{marginLeft:8},onClick:()=>r(e=>e-1),children:"decrease"})]})}e.s(["default",()=>u],244215)},297499,e=>{"use strict";var t=e.i(660171),n=e.i(824627),r=e.i(279537),i=e.i(740096);let u=function(e){var t=function(){return new Map(e)},u=(0,n.__read)((0,r.useState)(t),2),o=u[0],a=u[1];return[o,{set:(0,i.default)(function(e,t){a(function(n){var r=new Map(n);return r.set(e,t),r})}),setAll:(0,i.default)(function(e){a(new Map(e))}),remove:(0,i.default)(function(e){a(function(t){var n=new Map(t);return n.delete(e),n})}),reset:(0,i.default)(function(){return a(t())}),get:(0,i.default)(function(e){return o.get(e)})}]};function o(){let[e,{set:n,setAll:r,remove:i,reset:o,get:a}]=u([["msg","hello world"],[123,"number type"]]);return(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{type:"button",onClick:()=>n(String(Date.now()),new Date().toJSON()),children:"Add"}),(0,t.jsx)("button",{type:"button",onClick:()=>r([["text","this is a new Map"]]),style:{margin:"0 8px"},children:"Set new Map"}),(0,t.jsxs)("button",{type:"button",onClick:()=>i("msg"),disabled:!a("msg"),children:["Remove ","msg"]}),(0,t.jsx)("button",{type:"button",onClick:()=>o(),style:{margin:"0 8px"},children:"Reset"}),(0,t.jsx)("div",{style:{marginTop:16},children:(0,t.jsx)("pre",{children:JSON.stringify(Array.from(e),null,2)})})]})}e.s(["default",()=>o],297499)},338989,e=>{"use strict";var t=e.i(824627),n=e.i(987325),n=n,r=e.i(279537),i=e.i(746261),u=e.i(999157),o=e.i(528199),a=e.i(107615);e.s(["default",0,function(e,s){a.default&&!(0,o.isFunction)(e)&&console.error("useDebounceFn expected parameter is a function, got ".concat(typeof e));var c,l=(0,i.default)(e),f=null!=(c=null==s?void 0:s.wait)?c:1e3,d=(0,r.useMemo)(function(){return(0,n.default)(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.current.apply(l,(0,t.__spreadArray)([],(0,t.__read)(e),!1))},f,s)},[]);return(0,u.default)(function(){d.cancel()}),{run:d,cancel:d.cancel,flush:d.flush}}],338989)},360926,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(824627),i=e.i(338989);let u=function(e,t){var u=(0,r.__read)((0,n.useState)(e),2),o=u[0],a=u[1],s=(0,i.default)(function(){a(e)},t).run;return(0,n.useEffect)(function(){s()},[e]),o};function o(){let[e,r]=(0,n.useState)(),i=u(e,{wait:500});return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{value:e,onChange:e=>r(e.target.value),placeholder:"Typed value",style:{width:280}}),(0,t.jsxs)("p",{style:{marginTop:16},children:["Value: ",e]}),(0,t.jsxs)("p",{style:{marginTop:16},children:["DebouncedValue（延时 500ms 后更新）: ",i]})]})}e.s(["default",()=>o],360926)},414837,e=>{"use strict";var t=e.i(824627),n=e.i(279537),r=e.i(45036);function i(e){void 0===e&&(e=!1);var i=(0,t.__read)((0,r.default)(!!e),2),u=i[0],o=i[1],a=o.toggle,s=o.set;return[u,(0,n.useMemo)(function(){return{toggle:a,set:function(e){return s(!!e)},setTrue:function(){return s(!0)},setFalse:function(){return s(!1)}}},[])]}e.s(["default",()=>i])},950391,e=>{"use strict";var t=e.i(414837);e.s(["useBoolean",()=>t.default])},769063,e=>{"use strict";var t=e.i(660171),n=e.i(950391);function r(){let[e,{toggle:r,setTrue:i,setFalse:u}]=(0,n.useBoolean)(!0);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["Effects：",JSON.stringify(e)]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("button",{type:"button",onClick:r,children:"Toggle"}),(0,t.jsx)("button",{type:"button",onClick:u,style:{margin:"0 16px"},children:"Set false"}),(0,t.jsx)("button",{type:"button",onClick:i,children:"Set true"})]})]})}e.s(["default",()=>r])},816895,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(562114),r=r;let i=()=>{let e=(0,r.default)();return(0,n.useEffect)(()=>{setTimeout(()=>{e.current?console.log("component is unmounted"):console.log("component is alive")},3e3)},[]),(0,t.jsx)("p",{children:"Hello World!"})};function u(){let[e,r]=(0,n.useState)(!0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",onClick:()=>r(!e),children:e?"unmount":"mount"}),e&&(0,t.jsx)(i,{})]})}e.s(["default",()=>u],816895)},560660,e=>{"use strict";var t=e.i(660171),n=e.i(999157),n=n,r=e.i(950391);let i=()=>((0,n.default)(()=>{console.log("mount")}),(0,t.jsx)("div",{children:"Hello World"}));function u(){let[e,{toggle:n}]=(0,r.useBoolean)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",onClick:n,children:e?"unmount":"mount"}),e&&(0,t.jsx)(i,{})]})}e.s(["default",()=>u],560660)},793030,e=>{"use strict";var t=e.i(279537),n=e.i(528199),r=e.i(107615);e.s(["default",0,function(e){r.default&&!(0,n.isFunction)(e)&&console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof e,'".')),(0,t.useEffect)(function(){var t=null==e?void 0:e();if(!t||"object"!=typeof t||"function"!=typeof t.then)return t},[])}])},68694,e=>{"use strict";var t=e.i(660171),n=e.i(793030),n=n,r=e.i(950391);let i=()=>((0,n.default)(()=>{console.log("mount")}),(0,t.jsx)("div",{children:"Hello World"}));function u(){let[e,{toggle:n}]=(0,r.useBoolean)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",onClick:n,children:e?"unmount":"mount"}),e&&(0,t.jsx)(i,{})]})}e.s(["default",()=>u],68694)},267722,e=>{"use strict";var t=e.i(824627),n=e.i(279537);e.s(["default",0,function(){var e=(0,t.__read)((0,n.useState)({}),2)[1];return(0,n.useCallback)(function(){return e({})},[])}])},910655,e=>{"use strict";var t=e.i(660171),n=e.i(267722),n=n;function r(){let e=(0,n.default)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:["Time: ",new Date().toISOString()]}),(0,t.jsx)("button",{type:"button",onClick:e,style:{marginTop:8},children:"update"})]})}e.s(["default",()=>r],910655)},358360,e=>{"use strict";var t=e.i(279537),n=function(e){return function(n,r){var i=(0,t.useRef)(!1);e(function(){return function(){i.current=!1}},[]),e(function(){if(i.current)return n();i.current=!0},r)}};e.s(["createUpdateEffect",()=>n])},783414,e=>{"use strict";var t=e.i(660171),n=e.i(279537);let r=(0,e.i(358360).createUpdateEffect)(n.useLayoutEffect);function i(){let[e,i]=(0,n.useState)(0),[u,o]=(0,n.useState)(0),[a,s]=(0,n.useState)(0);return(0,n.useLayoutEffect)(()=>{o(e=>e+1)},[e]),r(()=>(s(e=>e+1),()=>{}),[e]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["layoutEffectCount: ",u]}),(0,t.jsxs)("p",{children:["updateLayoutEffectCount: ",a]}),(0,t.jsx)("p",{children:(0,t.jsx)("button",{type:"button",onClick:()=>i(e=>e+1),children:"reRender"})})]})}e.s(["default",()=>i],783414)},210400,e=>{"use strict";var t=e.i(279537);let n=(0,e.i(358360).createUpdateEffect)(t.useEffect);e.s(["default",0,n])},455263,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(210400),r=r;function i(){let[e,i]=(0,n.useState)(0),[u,o]=(0,n.useState)(0),[a,s]=(0,n.useState)(0);return(0,n.useEffect)(()=>{o(e=>e+1)},[e]),(0,r.default)(()=>(s(e=>e+1),()=>{}),[e]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["effectCount: ",u]}),(0,t.jsxs)("p",{children:["updateEffectCount: ",a]}),(0,t.jsx)("p",{children:(0,t.jsx)("button",{type:"button",onClick:()=>i(e=>e+1),children:"reRender"})})]})}e.s(["default",()=>i],455263)},144338,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(815763),r=r;function i(){let[e,i]=(0,n.useState)(0),{run:u}=(0,r.default)(()=>{i(e+1)},{wait:500});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{style:{marginTop:16},children:[" Clicked count: ",e," "]}),(0,t.jsx)("button",{type:"button",onClick:u,children:"Click fast!"})]})}e.s(["default",()=>i],144338)},470764,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(824627),i=e.i(815763),u=e.i(210400);let o=function(e,t,o){var a=(0,r.__read)((0,n.useState)({}),2),s=a[0],c=a[1],l=(0,i.default)(function(){c({})},o).run;(0,n.useEffect)(function(){return l()},t),(0,u.default)(e,[s])};function a(){let[e,r]=(0,n.useState)("hello"),[i,u]=(0,n.useState)([]);return o(()=>{u(t=>[...t,e])},[e],{wait:1e3}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{value:e,onChange:e=>r(e.target.value),placeholder:"Typed value",style:{width:280}}),(0,t.jsx)("p",{style:{marginTop:16},children:(0,t.jsx)("ul",{children:i.map((e,n)=>(0,t.jsx)("li",{children:e},n))})})]})}e.s(["default",()=>a],470764)},771196,(e,t,n)=>{var r="undefined"!=typeof Element,i="function"==typeof Map,u="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;t.exports=function(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a,s,c,l;if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((a=t.length)!=n.length)return!1;for(s=a;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(i&&t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(l=t.entries();!(s=l.next()).done;)if(!n.has(s.value[0]))return!1;for(l=t.entries();!(s=l.next()).done;)if(!e(s.value[1],n.get(s.value[0])))return!1;return!0}if(u&&t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(l=t.entries();!(s=l.next()).done;)if(!n.has(s.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((a=t.length)!=n.length)return!1;for(s=a;0!=s--;)if(t[s]!==n[s])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"==typeof t.valueOf&&"function"==typeof n.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString&&"function"==typeof t.toString&&"function"==typeof n.toString)return t.toString()===n.toString();if((a=(c=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(n,c[s]))return!1;if(r&&t instanceof Element)return!1;for(s=a;0!=s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!t.$$typeof)&&!e(t[c[s]],n[c[s]]))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},517123,e=>{"use strict";var t=e.i(279537),n=e.i(771196),r=function(e){return function(r,i){var u,o,a=(0,t.useRef)(void 0),s=(0,t.useRef)(0);void 0!==i&&(u=i,o=a.current,void 0===u&&(u=[]),void 0===o&&(o=[]),(0,n.default)(u,o))||(s.current+=1),a.current=i,e(r,[s.current])}};e.s(["createDeepCompareEffect",()=>r],517123)},475025,e=>{"use strict";var t=e.i(660171),n=e.i(279537);let r=(0,e.i(517123).createDeepCompareEffect)(n.useLayoutEffect);function i(){let[,e]=(0,n.useState)(0),i=(0,n.useRef)(0),u=(0,n.useRef)(0);return(0,n.useLayoutEffect)(()=>{i.current+=1},[{}]),r(()=>(u.current+=1,()=>{}),[{}]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["effectCount: ",i.current]}),(0,t.jsxs)("p",{children:["deepCompareCount: ",u.current]}),(0,t.jsx)("p",{children:(0,t.jsx)("button",{type:"button",onClick:()=>e(e=>e+1),children:"reRender"})})]})}e.s(["default",()=>i],475025)},544855,e=>{"use strict";var t=e.i(660171),n=e.i(279537);let r=(e,t,r=Object.is)=>{let i=(0,n.useRef)(void 0),u=(0,n.useRef)(0);void 0!==t&&r(t,i.current)||(u.current+=1),i.current=t,(0,n.useEffect)(e,[u.current])};function i(){let[e,i]=(0,n.useState)(0),u=(0,n.useRef)(0),o=(0,n.useRef)(0);return(0,n.useEffect)(()=>{u.current+=1},[{}]),r(()=>{o.current+=1},[o.current],(e,t)=>e[0]>=5),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["effectCount: ",u.current]}),(0,t.jsxs)("p",{children:["customCompareCount: ",o.current]}),(0,t.jsx)("p",{children:(0,t.jsx)("button",{type:"button",onClick:()=>i(e=>e+1),children:"reRender"})})]})}e.s(["default",()=>i,"useCustomCompareEffect",0,r])},117987,e=>{"use strict";var t=e.i(660171),n=e.i(279537);let r=(0,e.i(517123).createDeepCompareEffect)(n.useEffect);function i(){let[e,i]=(0,n.useState)(0),u=(0,n.useRef)(0),o=(0,n.useRef)(0);return(0,n.useEffect)(()=>{u.current+=1},[{}]),r(()=>(o.current+=1,()=>{}),[{}]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["effectCount: ",u.current]}),(0,t.jsxs)("p",{children:["deepCompareCount: ",o.current]}),(0,t.jsx)("p",{children:(0,t.jsx)("button",{type:"button",onClick:()=>i(e=>e+1),children:"reRender"})})]})}e.s(["default",()=>i],117987)},280741,e=>{"use strict";var t=e.i(660171),n=e.i(279537);function r(){let[e,r]=(0,n.useState)(),i=function(e,t){let r,i=t?.wait??1e3,[u,o]=(0,n.useState)(e);return(0,n.useEffect)(()=>(r&&clearTimeout(r),r=setTimeout(()=>{o(e)},i),()=>{r&&clearTimeout(r)}),[e,i]),u}(e,{wait:500});return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{value:e,onChange:e=>r(e.target.value),placeholder:"Typed value",style:{width:280}}),(0,t.jsxs)("p",{style:{marginTop:16},children:["Value: ",e]}),(0,t.jsxs)("p",{style:{marginTop:16},children:["DebouncedValue（延时 500ms 后更新）: ",i]})]})}e.s(["default",()=>r])},117885,e=>{"use strict";var t=e.i(660171),n=e.i(338989),n=n,r=e.i(279537);function i(){let[e,i]=(0,r.useState)(0),{run:u}=(0,n.default)(()=>{i(e+1)},{wait:500});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{style:{marginTop:16},children:[" Clicked count: ",e," "]}),(0,t.jsx)("button",{type:"button",onClick:u,children:"Click fast!"})]})}e.s(["default",()=>i],117885)},43726,e=>{"use strict";var t=!!("undefined"!=typeof window&&window.document&&window.document.createElement);e.s(["default",0,t])},198982,e=>{"use strict";e.s(["default",0,function(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}])},692247,61282,e=>{"use strict";var t,n=e.i(528199),r=e.i(43726);function i(e,t){if(r.default)return e?(0,n.isFunction)(e)?e():"current"in e?e.current:e:t}e.s(["getTargetElement",()=>i],692247);var u=e.i(279537),o=e.i(999157),a=e.i(198982),s=(t=u.useEffect,function(e,n,r){var s=(0,u.useRef)(!1),c=(0,u.useRef)([]),l=(0,u.useRef)([]),f=(0,u.useRef)(void 0);t(function(){var t,u=(Array.isArray(r)?r:[r]).map(function(e){return i(e)});if(!s.current){s.current=!0,c.current=u,l.current=n,f.current=e();return}u.length===c.current.length&&(0,a.default)(c.current,u)&&(0,a.default)(l.current,n)||(null==(t=f.current)||t.call(f),c.current=u,l.current=n,f.current=e())}),(0,o.default)(function(){var e;null==(e=f.current)||e.call(f),s.current=!1})});e.s(["default",0,s],61282)},981289,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(824627),i=e.i(391872),u=e.i(746261),o=e.i(692247),a=e.i(61282);let s=function(e,t){void 0===t&&(t=function(){return!0});var n=(0,r.__read)((0,i.default)(),2),s=n[0],c=n[1],l=(0,u.default)(t);return(0,a.default)(function(){var t=(0,o.getTargetElement)(e,document);if(t){var n=function(){var e;e=t===document?document.scrollingElement?{left:document.scrollingElement.scrollLeft,top:document.scrollingElement.scrollTop}:{left:Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft),top:Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}:{left:t.scrollLeft,top:t.scrollTop},l.current(e)&&c(e)};return n(),t.addEventListener("scroll",n),function(){t.removeEventListener("scroll",n)}}},[],e),s};function c(){let e=(0,n.useRef)(null),r=s(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:JSON.stringify(r)}),(0,t.jsxs)("div",{style:{height:"160px",width:"160px",border:"solid 1px #000",overflow:"scroll",whiteSpace:"nowrap",fontSize:"32px"},ref:e,children:[(0,t.jsx)("div",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A aspernatur atque, debitis ex excepturi explicabo iste iure labore molestiae neque optio perspiciatis"}),(0,t.jsx)("div",{children:"Aspernatur cupiditate, deleniti id incidunt mollitia omnis! A aspernatur assumenda consequuntur culpa cumque dignissimos enim eos, et fugit natus nemo nesciunt"}),(0,t.jsx)("div",{children:"Alias aut deserunt expedita, inventore maiores minima officia porro rem. Accusamus ducimus magni modi mollitia nihil nisi provident"}),(0,t.jsx)("div",{children:"Alias aut autem consequuntur doloremque esse facilis id molestiae neque officia placeat, quia quisquam repellendus reprehenderit."}),(0,t.jsx)("div",{children:"Adipisci blanditiis facere nam perspiciatis sit soluta ullam! Architecto aut blanditiis, consectetur corporis cum deserunt distinctio dolore eius est exercitationem"}),(0,t.jsx)("div",{children:"Ab aliquid asperiores assumenda corporis cumque dolorum expedita"}),(0,t.jsx)("div",{children:"Culpa cumque eveniet natus totam! Adipisci, animi at commodi delectus distinctio dolore earum, eum expedita facilis"}),(0,t.jsx)("div",{children:"Quod sit, temporibus! Amet animi fugit officiis perspiciatis, quis unde. Cumque dignissimos distinctio, dolor eaque est fugit nisi non pariatur porro possimus, quas quasi"})]})]})}e.s(["default",()=>c],981289)},814379,e=>{"use strict";var t=e.i(746261),n=e.i(692247),r=e.i(61282);e.s(["default",0,function(e,i,u){void 0===u&&(u={});var o=u.enable,a=void 0===o||o,s=(0,t.default)(i);(0,r.default)(function(){if(a){var t=(0,n.getTargetElement)(u.target,window);if(null==t?void 0:t.addEventListener){var r=function(e){return s.current(e)},i=Array.isArray(e)?e:[e];return i.forEach(function(e){t.addEventListener(e,r,{capture:u.capture,once:u.once,passive:u.passive})}),function(){i.forEach(function(e){t.removeEventListener(e,r,{capture:u.capture})})}}}},[e,u.capture,u.once,u.passive,a],u.target)}])},526844,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(824627),i=e.i(414837),u=e.i(814379);let o=function(e,t){var n=t||{},o=n.onEnter,a=n.onLeave,s=n.onChange,c=(0,r.__read)((0,i.default)(!1),2),l=c[0],f=c[1],d=f.setTrue,p=f.setFalse;return(0,u.default)("mouseenter",function(){null==o||o(),d(),null==s||s(!0)},{target:e}),(0,u.default)("mouseleave",function(){null==a||a(),p(),null==s||s(!1)},{target:e}),l};function a(){let e=(0,n.useRef)(null),r=o(e);return(0,t.jsx)("div",{ref:e,children:r?"hover":"leaveHover"})}e.s(["default",()=>a],526844)},811705,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(814379),r=r;function i(){let[e,i]=(0,n.useState)(0),u=(0,n.useRef)(null);return(0,r.default)("click",()=>{i(e+1)},{target:u}),(0,t.jsxs)("button",{ref:u,type:"button",children:["You click ",e," times"]})}e.s(["default",()=>i],811705)},991915,(e,t,n)=>{t.exports=function(e,t){return function(n){return e(t(n))}}},530968,(e,t,n)=>{t.exports=e.r(991915)(Object.getPrototypeOf,Object)},517307,(e,t,n)=>{var r=e.r(423748),i=e.r(530968),u=e.r(819674),o=Object.prototype,a=Function.prototype.toString,s=o.hasOwnProperty,c=a.call(Object);t.exports=function(e){if(!u(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==c}},995938,e=>{"use strict";var t=e.i(279537),n=e.i(198982);e.s(["default",0,function(e,r){var i=(0,t.useRef)({deps:r,obj:void 0,initialized:!1}).current;return!1!==i.initialized&&(0,n.default)(i.deps,r)||(i.deps=r,i.obj=e(),i.initialized=!0),i.obj}])},817315,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(517307),i=e.i(995938),u=e.i(267722),o=new WeakMap,a=new WeakMap;let s=function(e){var t=(0,u.default)(),s=(0,n.useRef)(e);return(0,i.default)(function(){return function e(t,n){var i=o.get(t);if(i)return i;if(a.has(t))return t;var u=new Proxy(t,{get:function(t,i,u){var o=Reflect.get(t,i,u),a=Reflect.getOwnPropertyDescriptor(t,i);return((null==a?void 0:a.configurable)||(null==a?void 0:a.writable))&&((0,r.default)(o)||Array.isArray(o))?e(o,n):o},set:function(e,t,r){var i=Reflect.set(e,t,r);return n(),i},deleteProperty:function(e,t){var r=Reflect.deleteProperty(e,t);return n(),r}});return o.set(t,u),a.set(u,t),u}(s.current,function(){t()})},[])};function c(){let e=s({count:0,inputVal:"",obj:{value:""}});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[" state.count：",e.count]}),(0,t.jsx)("button",{style:{marginRight:8},onClick:()=>e.count++,children:"state.count++"}),(0,t.jsx)("button",{onClick:()=>e.count--,children:"state.count--"}),(0,t.jsxs)("p",{style:{marginTop:20},children:[" state.inputVal: ",e.inputVal]}),(0,t.jsx)("input",{onChange:t=>e.inputVal=t.target.value}),(0,t.jsxs)("p",{style:{marginTop:20},children:[" state.obj.value: ",e.obj.value]}),(0,t.jsx)("input",{onChange:t=>e.obj.value=t.target.value})]})}e.s(["default",()=>c],817315)},755450,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(740096),r=r;function i(){let[e,i]=(0,n.useState)(0),u=(0,n.useCallback)(()=>{console.log(`Current count is ${e}`)},[e]),o=(0,r.default)(()=>{console.log(`Current count is ${e}`)});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:["count: ",e]}),(0,t.jsx)("button",{type:"button",onClick:()=>{i(e=>e+1)},children:"Add Count"}),(0,t.jsxs)("div",{style:{marginTop:16},children:[(0,t.jsx)("button",{type:"button",onClick:u,children:"call callbackFn"}),(0,t.jsx)("button",{type:"button",onClick:o,style:{marginLeft:8},children:"call memoizedFn"})]})]})}e.s(["default",()=>i],755450)},377513,e=>{"use strict";var t=e.i(660171),n=e.i(279537);function r(){let[e,r]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=setInterval(()=>{r(e=>e+1)},1e3);return()=>clearInterval(e)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("p",{children:["count(default): ",e]})})}e.s(["default",()=>r])},161266,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(746261),r=r;function i(){let[e,i]=(0,n.useState)(0),[u,o]=(0,n.useState)(0),a=(0,r.default)(e);return(0,n.useEffect)(()=>{let e=setInterval(()=>{i(a.current+1)},1e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{let e=setInterval(()=>{o(u+1)},1e3);return()=>clearInterval(e)},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:["count(useLatest): ",e]}),(0,t.jsxs)("p",{children:["count(default): ",u]})]})}e.s(["default",()=>i],161266)},760510,e=>{"use strict";var t=e.i(660171),n=e.i(279537);class r{subscriptions=new Map;emit(e,t){if(this.subscriptions.has(e))for(let n of this.subscriptions.get(e))n(t)}useSubscription(e,t){let r=(0,n.useRef)(void 0);r.current=t,(0,n.useEffect)(()=>{function t(e){r.current&&r.current(e)}return this.subscriptions.has(e)?this.subscriptions.get(e).add(t):this.subscriptions.set(e,new Set([t])),()=>{this.subscriptions.get(e)?.delete(t)}},[])}}function i({multiEventEmitter:e}){let[r,i]=(0,n.useState)(""),[u,o]=(0,n.useState)([]);return e.useSubscription("chat-to-child1",e=>{o(t=>[...t,e])}),(0,t.jsxs)("div",{children:["Child1",(0,t.jsx)("div",{children:(0,t.jsx)("input",{style:{width:"100%"},type:"text",placeholder:"Enter message to send to Child2",value:r,onChange:e=>i(e.target.value),onKeyDown:t=>{"Enter"===t.key&&(e.emit("chat-to-child2",`Child1: ${r}`),i(""))}})}),(0,t.jsx)("ul",{children:u.map((e,n)=>(0,t.jsx)("li",{children:e},n))})]})}function u({multiEventEmitter:e}){let[r,i]=(0,n.useState)(""),[u,o]=(0,n.useState)([]);return e.useSubscription("chat-to-child2",e=>{o(t=>[...t,e])}),(0,t.jsxs)("div",{children:["Child2",(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"text",style:{width:"100%"},placeholder:"Enter message to send to Child1",value:r,onChange:e=>i(e.target.value),onKeyDown:t=>{"Enter"===t.key&&(e.emit("chat-to-child1",`Child2: ${r}`),i(""))}})}),(0,t.jsx)("ul",{children:u.map((e,n)=>(0,t.jsx)("li",{children:e},n))})]})}function o(){let e,o=((e=(0,n.useRef)(void 0)).current||(e.current=new r),e.current);return(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,t.jsx)(i,{multiEventEmitter:o}),(0,t.jsx)(u,{multiEventEmitter:o})]})}e.s(["default",()=>o])},226393,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(824627),i=function(){var e=this;this.subscriptions=new Set,this.emit=function(t){var n,i;try{for(var u=(0,r.__values)(e.subscriptions),o=u.next();!o.done;o=u.next())(0,o.value)(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}},this.useSubscription=function(t){var r=(0,n.useRef)(void 0);r.current=t,(0,n.useEffect)(function(){function t(e){r.current&&r.current(e)}return e.subscriptions.add(t),function(){e.subscriptions.delete(t)}},[])}};let u=function(){var e=(0,n.useRef)(void 0);return e.current||(e.current=new i),e.current},o=function(e){return(0,t.jsxs)("div",{style:{paddingBottom:24},children:[(0,t.jsx)("p",{children:"You received a message"}),(0,t.jsx)("button",{type:"button",onClick:()=>{e.focus$.emit()},children:"Reply"})]})},a=function(e){let r=(0,n.useRef)(null);return e.focus$.useSubscription(()=>{r.current.focus()}),(0,t.jsx)("input",{ref:r,placeholder:"Enter reply",style:{width:"100%",padding:"4px"}})};function s(){let e=u();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{focus$:e}),(0,t.jsx)(a,{focus$:e})]})}e.s(["default",()=>s],226393)},329746,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(995938),r=r;class i{constructor(){this.data=Math.random()}data}function u(){let e=(0,r.default)(()=>new i,[]),[,u]=(0,n.useState)({});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:e.data}),(0,t.jsx)("button",{type:"button",onClick:()=>{u({})},children:"Rerender"})]})}e.s(["default",()=>u],329746)},915710,e=>{"use strict";var t=e.i(660171),n=e.i(279537),r=e.i(824627),i=e.i(528199),u=e.i(740096),o=e.i(267722);let a=function(e,t){void 0===t&&(t={});var a=null!=e?e:{},s=t.defaultValue,c=t.defaultValuePropName,l=void 0===c?"defaultValue":c,f=t.valuePropName,d=void 0===f?"value":f,p=t.trigger,v=void 0===p?"onChange":p,h=a[d],m=Object.prototype.hasOwnProperty.call(a,d),y=(0,n.useMemo)(function(){return m?h:Object.prototype.hasOwnProperty.call(a,l)?a[l]:s},[]),g=(0,n.useRef)(y);m&&(g.current=h);var x=(0,o.default)();return[g.current,(0,u.default)(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var u=(0,i.isFunction)(e)?e(g.current):e;m||(g.current=u,x()),a[v]&&a[v].apply(a,(0,r.__spreadArray)([u],(0,r.__read)(t),!1))})]};function s(e){let[n,r]=a(e,{defaultValue:""});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{value:n,onChange:e=>r(e.target.value),style:{width:300}}),(0,t.jsx)("button",{type:"button",onClick:()=>r(""),style:{marginLeft:8},children:"Clear By Self"})]})}e.s(["default",0,()=>{let[e,r]=(0,n.useState)("");return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{border:"1px dashed",padding:10},children:[(0,t.jsx)("div",{children:"非受控组件"}),(0,t.jsx)(s,{})]}),(0,t.jsxs)("div",{style:{border:"1px dashed",padding:10,marginTop:10},children:[(0,t.jsx)("div",{children:"受控组件"}),(0,t.jsx)(s,{value:e,onChange:r}),(0,t.jsx)("button",{style:{marginLeft:10},onClick:()=>{r("")},children:"Clear By Parent"})]})]})}],915710)},706910,e=>{"use strict";var t=e.i(660171),n=e.i(824627),r=e.i(279537),i=e.i(210400),u=function(e,t){var u=t.manual,o=t.ready,a=void 0===o||o,s=t.defaultParams,c=void 0===s?[]:s,l=t.refreshDeps,f=t.refreshDepsAction,d=(0,r.useRef)(!1);return d.current=!1,(0,i.default)(function(){!u&&a&&(d.current=!0,e.run.apply(e,(0,n.__spreadArray)([],(0,n.__read)(c),!1)))},[a]),(0,i.default)(function(){!d.current&&(u||(d.current=!0,f?f():e.refresh()))},(0,n.__spreadArray)([],(0,n.__read)(void 0===l?[]:l),!1)),{onBefore:function(){if(!a)return{stopNow:!0}}}};u.onInit=function(e){var t=e.ready;return{loading:!e.manual&&(void 0===t||t)}};var o=e.i(995938),a=e.i(999157),s=new Map,c=function(e,t,r){var i=s.get(e);(null==i?void 0:i.timer)&&clearTimeout(i.timer);var u=void 0;t>-1&&(u=setTimeout(function(){s.delete(e)},t)),s.set(e,(0,n.__assign)((0,n.__assign)({},r),{timer:u}))},l=new Map,f=function(e,t){l.set(e,t),t.then(function(t){return l.delete(e),t}).catch(function(){l.delete(e)})},d={},p=function(e,t){d[e]&&d[e].forEach(function(e){return e(t)})},v=function(e,t){return d[e]||(d[e]=[]),d[e].push(t),function(){var n=d[e].indexOf(t);d[e].splice(n,1)}};let h=function(e,t){var i=t.cacheKey,u=t.cacheTime,d=void 0===u?3e5:u,h=t.staleTime,m=void 0===h?0:h,y=t.setCache,g=t.getCache,x=(0,r.useRef)(void 0),j=(0,r.useRef)(void 0),b=function(e,t){y?y(t):c(e,d,t),p(e,t.data)},_=function(e,t){return(void 0===t&&(t=[]),g)?g(t):s.get(e)};return((0,o.default)(function(){if(i){var t=_(i);t&&Object.hasOwnProperty.call(t,"data")&&(e.state.data=t.data,e.state.params=t.params,(-1===m||Date.now()-t.time<=m)&&(e.state.loading=!1)),x.current=v(i,function(t){e.setState({data:t})})}},[]),(0,a.default)(function(){var e;null==(e=x.current)||e.call(x)}),i)?{onBefore:function(e){var t=_(i,e);return t&&Object.hasOwnProperty.call(t,"data")?-1===m||Date.now()-t.time<=m?{loading:!1,data:null==t?void 0:t.data,error:void 0,returnNow:!0}:{data:null==t?void 0:t.data,error:void 0}:{}},onRequest:function(e,t){var r=l.get(i);return r&&r!==j.current||(j.current=r=e.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(t),!1)),f(i,r)),{servicePromise:r}},onSuccess:function(t,n){var r;i&&(null==(r=x.current)||r.call(x),b(i,{data:t,params:n,time:Date.now()}),x.current=v(i,function(t){e.setState({data:t})}))},onMutate:function(t){var n;i&&(null==(n=x.current)||n.call(x),b(i,{data:t,params:e.state.params,time:Date.now()}),x.current=v(i,function(t){e.setState({data:t})}))}}:{}};var m=e.i(987325);let y=function(e,t){var i=t.debounceWait,u=t.debounceLeading,o=t.debounceTrailing,a=t.debounceMaxWait,s=(0,r.useRef)(void 0),c=(0,r.useMemo)(function(){var e={};return void 0!==u&&(e.leading=u),void 0!==o&&(e.trailing=o),void 0!==a&&(e.maxWait=a),e},[u,o,a]);return((0,r.useEffect)(function(){if(i){var t=e.runAsync.bind(e);return s.current=(0,m.default)(function(e){e()},i,c),e.runAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new Promise(function(r,i){var u;null==(u=s.current)||u.call(s,function(){t.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(e),!1)).then(r).catch(i)})})},function(){var n;null==(n=s.current)||n.cancel(),e.runAsync=t}}},[i,c]),i)?{onCancel:function(){var e;null==(e=s.current)||e.cancel()}}:{}},g=function(e,t){var n=t.loadingDelay,i=t.ready,u=(0,r.useRef)(void 0);if(!n)return{};var o=function(){u.current&&clearTimeout(u.current)};return{onBefore:function(){return o(),!1!==i&&(u.current=setTimeout(function(){e.setState({loading:!0})},n)),{loading:!1}},onFinally:function(){o()},onCancel:function(){o()}}};var x=e.i(43726);function j(){return!x.default||"hidden"!==document.visibilityState}var b=new Set;x.default&&window.addEventListener("visibilitychange",function(){j()&&b.forEach(function(e){return e()})},!1);let _=function(e,t){var n=t.pollingInterval,u=t.pollingWhenHidden,o=void 0===u||u,a=t.pollingErrorRetryCount,s=void 0===a?-1:a,c=(0,r.useRef)(void 0),l=(0,r.useRef)(void 0),f=(0,r.useRef)(0),d=function(){var e;c.current&&clearTimeout(c.current),null==(e=l.current)||e.call(l)};return((0,i.default)(function(){n||d()},[n]),n)?{onBefore:function(){d()},onError:function(){f.current+=1},onSuccess:function(){f.current=0},onFinally:function(){-1===s||-1!==s&&f.current<=s?c.current=setTimeout(function(){if(o||j())e.refresh();else{var t;t=function(){e.refresh()},b.add(t),l.current=function(){b.has(t)&&b.delete(t)}}},n):f.current=0},onCancel:function(){d()}}:{}};var w=new Set;if(x.default){var S=function(){j()&&(!x.default||void 0===navigator.onLine||navigator.onLine)&&w.forEach(function(e){return e()})};window.addEventListener("visibilitychange",S,!1),window.addEventListener("focus",S,!1)}let C=function(e,t){var i=t.refreshOnWindowFocus,u=t.focusTimespan,o=void 0===u?5e3:u,s=(0,r.useRef)(void 0),c=function(){var e;null==(e=s.current)||e.call(s)};return(0,r.useEffect)(function(){if(i){var t,r,u,a=(t=e.refresh.bind(e),r=!1,function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r||(r=!0,t.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(e),!1)),setTimeout(function(){r=!1},o))});u=function(){a()},w.add(u),s.current=function(){w.has(u)&&w.delete(u)}}return function(){c()}},[i,o]),(0,a.default)(function(){c()}),{}},E=function(e,t){var n=t.retryInterval,i=t.retryCount,u=(0,r.useRef)(void 0),o=(0,r.useRef)(0),a=(0,r.useRef)(!1);return i?{onBefore:function(){a.current||(o.current=0),a.current=!1,u.current&&clearTimeout(u.current)},onSuccess:function(){o.current=0},onError:function(){o.current+=1,-1===i||o.current<=i?u.current=setTimeout(function(){a.current=!0,e.refresh()},null!=n?n:Math.min(1e3*Math.pow(2,o.current),3e4)):o.current=0},onCancel:function(){o.current=0,u.current&&clearTimeout(u.current)}}:{}};var R=e.i(360174);let A=function(e,t){var i=t.throttleWait,u=t.throttleLeading,o=t.throttleTrailing,a=(0,r.useRef)(void 0),s={};return(void 0!==u&&(s.leading=u),void 0!==o&&(s.trailing=o),(0,r.useEffect)(function(){if(i){var t=e.runAsync.bind(e);return a.current=(0,R.default)(function(e){e()},i,s),e.runAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new Promise(function(r,i){var u;null==(u=a.current)||u.call(a,function(){t.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(e),!1)).then(r).catch(i)})})},function(){var n;e.runAsync=t,null==(n=a.current)||n.cancel()}}},[i,u,o]),i)?{onCancel:function(){var e;null==(e=a.current)||e.cancel()}}:{}};var T=e.i(746261),O=e.i(740096),k=e.i(793030),F=e.i(267722),P=e.i(107615),M=e.i(528199),L=function(){function e(e,t,r,i){void 0===i&&(i={}),this.serviceRef=e,this.options=t,this.subscribe=r,this.initState=i,this.pluginImpls=[],this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,n.__assign)((0,n.__assign)((0,n.__assign)({},this.state),{loading:!t.manual}),i)}return e.prototype.setState=function(e){void 0===e&&(e={}),this.state=(0,n.__assign)((0,n.__assign)({},this.state),e),this.subscribe()},e.prototype.runPluginHandler=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=this.pluginImpls.map(function(r){var i;return null==(i=r[e])?void 0:i.call.apply(i,(0,n.__spreadArray)([r],(0,n.__read)(t),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,n.__spreadArray)([{}],(0,n.__read)(i),!1))},e.prototype.runAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.__awaiter)(this,void 0,void 0,function(){var t,r,i,u,o,a,s,c,l,f,d,p,v,h,m,y,g,x,j,b,_;return(0,n.__generator)(this,function(w){switch(w.label){case 0:if(this.count+=1,t=this.count,u=void 0!==(i=(r=this.runPluginHandler("onBefore",e)).stopNow)&&i,a=void 0!==(o=r.returnNow)&&o,s=(0,n.__rest)(r,["stopNow","returnNow"]),u)return[2,new Promise(function(){})];if(this.setState((0,n.__assign)({loading:!0,params:e},s)),a)return[2,Promise.resolve(s.data)];null==(v=(p=this.options).onBefore)||v.call(p,e),w.label=1;case 1:return w.trys.push([1,3,,4]),(c=this.runPluginHandler("onRequest",this.serviceRef.current,e).servicePromise)||(c=(d=this.serviceRef).current.apply(d,(0,n.__spreadArray)([],(0,n.__read)(e),!1))),[4,c];case 2:if(l=w.sent(),t!==this.count)return[2,new Promise(function(){})];return this.setState({data:l,error:void 0,loading:!1}),null==(m=(h=this.options).onSuccess)||m.call(h,l,e),this.runPluginHandler("onSuccess",l,e),null==(g=(y=this.options).onFinally)||g.call(y,e,l,void 0),t===this.count&&this.runPluginHandler("onFinally",e,l,void 0),[2,l];case 3:if(f=w.sent(),t!==this.count)return[2,new Promise(function(){})];throw this.setState({error:f,loading:!1}),null==(j=(x=this.options).onError)||j.call(x,f,e),this.runPluginHandler("onError",f,e),null==(_=(b=this.options).onFinally)||_.call(b,e,void 0,f),t===this.count&&this.runPluginHandler("onFinally",e,void 0,f),f;case 4:return[2]}})})},e.prototype.run=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.runAsync.apply(this,(0,n.__spreadArray)([],(0,n.__read)(t),!1)).catch(function(t){e.options.onError||console.error(t)})},e.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},e.prototype.refresh=function(){this.run.apply(this,(0,n.__spreadArray)([],(0,n.__read)(this.state.params||[]),!1))},e.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,n.__spreadArray)([],(0,n.__read)(this.state.params||[]),!1))},e.prototype.mutate=function(e){var t=(0,M.isFunction)(e)?e(this.state.data):e;this.runPluginHandler("onMutate",t),this.setState({data:t})},e}();let B=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r=[]);var i=t.manual,u=void 0!==i&&i,s=t.ready,c=void 0===s||s,l=(0,n.__rest)(t,["manual","ready"]);P.default&&t.defaultParams&&!Array.isArray(t.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof t.defaultParams));var f=(0,n.__assign)({manual:u,ready:c},l),d=(0,T.default)(e),p=(0,F.default)(),v=(0,o.default)(function(){var e=r.map(function(e){var t;return null==(t=null==e?void 0:e.onInit)?void 0:t.call(e,f)}).filter(Boolean);return new L(d,f,p,Object.assign.apply(Object,(0,n.__spreadArray)([{}],(0,n.__read)(e),!1)))},[]);return v.options=f,v.pluginImpls=r.map(function(e){return e(v,f)}),(0,k.default)(function(){if(!u&&c){var e=v.state.params||t.defaultParams||[];v.run.apply(v,(0,n.__spreadArray)([],(0,n.__read)(e),!1))}}),(0,a.default)(function(){v.cancel()}),{loading:v.state.loading,data:v.state.data,error:v.state.error,params:v.state.params||[],cancel:(0,O.default)(v.cancel.bind(v)),refresh:(0,O.default)(v.refresh.bind(v)),refreshAsync:(0,O.default)(v.refreshAsync.bind(v)),run:(0,O.default)(v.run.bind(v)),runAsync:(0,O.default)(v.runAsync.bind(v)),mutate:(0,O.default)(v.mutate.bind(v))}};function q(){return new Promise(e=>{setTimeout(()=>{e(Math.random().toString())},1e3)})}function D(){let{data:e,error:r,loading:i}=B(q,void 0,(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)([]),!1),[y,g,_,C,A,u,h,E],!1));return r?(0,t.jsx)("div",{children:"failed to load"}):i?(0,t.jsx)("div",{children:"loading..."}):(0,t.jsxs)("div",{children:["Username: ",e]})}e.s(["default",()=>D],706910)}]);